# 像素大战 (Pixel War) - 游戏说明

## 📖 游戏简介

像素大战是一款基于 LED 灯带的射击游戏。敌方像素从灯带远端源源不断地向你冲来，你需要快速按下对应颜色的按键发射子弹消灭它们！

---

## 🎮 操作指南

### 按键说明

| 按键 | 颜色 | 功能 |
|------|------|------|
| **D1** | 🟢 绿色 | 发射绿色子弹 |
| **D2** | 🔴 红色 | 发射红色子弹 |
| **D3** | 🔵 蓝色 | 发射蓝色子弹 |

### 组合键

| 操作 | 功能 |
|------|------|
| **红 + 绿 (开机时)** | 进入 OTA 升级模式 |
| **长按红键 3 秒 (游戏中)** | 进入设置菜单 |
| **长按绿键 3 秒 (设置中)** | 保存并退出设置 |

---

## 🎯 游戏规则

### 碰撞规则

```
同色相撞 → 双方消失，得分 +1 ✓
异色相撞 → 子弹变成敌人！ ✗
```

### 胜负判定

- **坚持越久分数越高**
- **敌人到达你的位置 (灯带起点) → 游戏结束**

### 波次系统

敌人以**波次**形式出现，每波结束后有短暂休息间隔：

```
一波敌人涌出 → 休息间隔 → 下一波敌人 → ...
```

### 难度升级

每得 **10 分**自动升级（最高 10 级），影响以下参数：

| 参数 | 初始 (Lv.1) | 最高 (Lv.10) |
|------|:-----------:|:------------:|
| 敌人移动间隔 | 140ms | 50ms |
| 每波敌人数 | 3 个 | 8 个 |
| 波间休息时间 | 3.0 秒 | 1.5 秒 |

---

## ⚙️ 设置菜单

在游戏中**长按红键 3 秒**进入设置菜单。

| 模式 | 指示颜色 | 调节项 |
|------|----------|--------|
| 1 | 🟢 绿色 | 亮度 (10-100) |
| 2 | 🔵 蓝色 | 音量 (0-100) |
| 3 | 🔴 红色 | 难度 (1-10) |

### 设置操作

- **绿键短按**: 切换设置项
- **蓝键**: 增加数值
- **红键**: 减少数值
- **绿键长按 3 秒**: 保存退出

---

## 📶 OTA 无线升级

### 进入方式
开机时同时按住 **红键 + 绿键**

### 连接信息
- **固定 IP**: `10.10.10.36`
- **mDNS**: `pixelwar.local`
- **升级地址**: `http://10.10.10.36/update`

### 连接失败时
会自动启动热点模式:
- **热点名称**: `PixelWar OTA`
- **热点密码**: `12345678`

---

## 🔌 硬件连接

基于 XIAO ESP32-S3 开发板:

| 功能 | 引脚 | GPIO |
|------|------|------|
| LED 灯带 | D9 | GPIO 8 |
| 红色按键 | D2 | GPIO 3 |
| 绿色按键 | D1 | GPIO 2 |
| 蓝色按键 | D3 | GPIO 4 |
| 蜂鸣器 | D0 | GPIO 1 |

---

## 💡 游戏技巧

1. **预判敌人**: 观察敌人颜色，提前准备按键
2. **别乱射**: 打错颜色会让敌人数量增加！
3. **利用波间休息**: 每波之间有间歇，趁机调整节奏
4. **注意难度**: 分数越高，每波敌人越多，休息越短

---

## 🏆 最高分

你的最高分会自动保存，断电也不会丢失！

**祝你游戏愉快！**
